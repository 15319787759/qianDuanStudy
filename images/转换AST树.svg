<svg id="SvgjsSvg1006" width="539.75" height="847" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1018" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1019" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1026" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1027" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1034" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1035" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1046" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1047" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1050" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1051" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1058" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1059" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1062" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1063" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1082" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1083" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1094" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1095" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1098" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1099" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(98.75,25)"><path id="SvgjsPath1009" d="M 16.666666666666668 0L 83.33333333333333 0C 105.55555555555556 0 105.55555555555556 50 83.33333333333333 50L 16.666666666666668 50C -5.555555555555556 50 -5.555555555555556 0 16.666666666666668 0Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1010"><foreignObject id="SvgjsForeignObject1011" width="80" height="16" x="10" style="overflow:visible;" y="17"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">开始</div></foreignObject></g></g><g id="SvgjsG1012" transform="translate(98.75,117)"><path id="SvgjsPath1013" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1014"><foreignObject id="SvgjsForeignObject1015" width="80" height="48" x="10" style="overflow:visible;" y="11"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">将AST与visitor放入遍历器中</div></foreignObject></g></g><g id="SvgjsG1016"><path id="SvgjsPath1017" d="M148.75 75L148.75 96L148.75 96L148.75 117" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1018)"></path></g><g id="SvgjsG1020" transform="translate(43.75,232)"><path id="SvgjsPath1021" d="M 21.666666666666668 0L 210 0L 188.33333333333334 65L 0 65L 21.666666666666668 0Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1022"><foreignObject id="SvgjsForeignObject1023" width="147" height="64" x="31.5" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 147px; word-break: break-word; border: 0px;">初始值：node=ast<div>parent=nu l l</div><div>newAst={type='',body=[]}</div></div></foreignObject></g></g><g id="SvgjsG1024"><path id="SvgjsPath1025" d="M148.75 187L148.75 209.5L148.75 209.5L148.75 232" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1026)"></path></g><g id="SvgjsG1028" transform="translate(60.25,346)"><path id="SvgjsPath1029" d="M 0 49.5L 88.5 0L 177 49.5L 88.5 99L 0 49.5Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1030"><foreignObject id="SvgjsForeignObject1031" width="157" height="32" x="10" style="overflow:visible;" y="33.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 157px; word-break: break-word; border: 0px;">visitor[node.type](初始值为Program)</div></foreignObject></g></g><g id="SvgjsG1032"><path id="SvgjsPath1033" d="M148.75 297L148.75 321.5L148.75 321.5L148.75 346" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1034)"></path></g><g id="SvgjsG1036" transform="translate(98.75,499)"><path id="SvgjsPath1037" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1038"><foreignObject id="SvgjsForeignObject1039" width="80" height="64" x="10" style="overflow:visible;" y="3"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">将相应的对象push到NewAst的body中</div></foreignObject></g></g><g id="SvgjsG1040" transform="translate(103.75,618)"><path id="SvgjsPath1041" d="M 0 35L 45 0L 90 35L 45 70L 0 35Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1042"><foreignObject id="SvgjsForeignObject1043" width="70" height="32" x="10" style="overflow:visible;" y="19"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 70px; word-break: break-word; border: 0px;">node是否有孩子节点</div></foreignObject></g></g><g id="SvgjsG1044"><path id="SvgjsPath1045" d="M148.75 445L148.75 472L148.75 472L148.75 499" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1046)"></path></g><g id="SvgjsG1048"><path id="SvgjsPath1049" d="M148.75 569L148.75 593.5L148.75 593.5L148.75 618" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1050)"></path></g><g id="SvgjsG1052" transform="translate(55,721)"><path id="SvgjsPath1053" d="M 0 0L 187.5 0L 187.5 65L 0 65Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1054"><foreignObject id="SvgjsForeignObject1055" width="167.5" height="64" x="10" style="overflow:visible;" y="0.5"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 167.5px; word-break: break-word; border: 0px;">根据不同的node.type循环遍历相应的孩子节点并设置node值为该孩子节点，parent为node</div></foreignObject></g></g><g id="SvgjsG1056"><path id="SvgjsPath1057" d="M148.75 688L148.75 704.5L148.75 704.5L148.75 721" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1058)"></path></g><g id="SvgjsG1060"><path id="SvgjsPath1061" d="M148.75 786L148.75 816L25 816L25 395.5L60.25 395.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1062)"></path></g><g id="SvgjsG1064" transform="translate(57.75,792)"><path id="SvgjsPath1065" d="M 0 0L 60 0L 60 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1066"><foreignObject id="SvgjsForeignObject1067" width="60" height="16" x="0" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 60px; word-break: break-word; border: 0px;">递归调用</div></foreignObject></g></g><g id="SvgjsG1068" transform="translate(128.75,450)"><path id="SvgjsPath1069" d="M 0 0L 60 0L 60 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1070"><foreignObject id="SvgjsForeignObject1071" width="60" height="16" x="0" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 60px; word-break: break-word; border: 0px;">是</div></foreignObject></g></g><g id="SvgjsG1072" transform="translate(133.75,684)"><path id="SvgjsPath1073" d="M 0 0L 60 0L 60 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1074"><foreignObject id="SvgjsForeignObject1075" width="60" height="16" x="0" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 60px; word-break: break-word; border: 0px;">是</div></foreignObject></g></g><g id="SvgjsG1076" transform="translate(253.75,618)"><path id="SvgjsPath1077" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 66Q 100 70 96 70L 4 70Q 0 70 0 66Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1078"><foreignObject id="SvgjsForeignObject1079" width="80" height="32" x="10" style="overflow:visible;" y="19"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">输出新的AST树</div></foreignObject></g></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M193.75 653L223.75 653L223.75 653L253.75 653" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1082)"></path></g><g id="SvgjsG1084" transform="translate(185.75,625)"><path id="SvgjsPath1085" d="M 0 0L 60 0L 60 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1086"><foreignObject id="SvgjsForeignObject1087" width="60" height="16" x="0" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 60px; word-break: break-word; border: 0px;">否</div></foreignObject></g></g><g id="SvgjsG1088" transform="translate(414.75,628)"><path id="SvgjsPath1089" d="M 16.666666666666668 0L 83.33333333333333 0C 105.55555555555556 0 105.55555555555556 50 83.33333333333333 50L 16.666666666666668 50C -5.555555555555556 50 -5.555555555555556 0 16.666666666666668 0Z" stroke="#323232" stroke-width="2" fill="#ffffff"></path><g id="SvgjsG1090"><foreignObject id="SvgjsForeignObject1091" width="80" height="16" x="10" style="overflow:visible;" y="17"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 80px; word-break: break-word; border: 0px;">结束</div></foreignObject></g></g><g id="SvgjsG1092"><path id="SvgjsPath1093" d="M353.75 653L384.25 653L384.25 653L414.75 653" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1094)"></path></g><g id="SvgjsG1096"><path id="SvgjsPath1097" d="M237.25 395.5L267.25 395.5L267.25 588L148.75 588L148.75 618" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1098)"></path></g><g id="SvgjsG1100" transform="translate(219.75,369)"><path id="SvgjsPath1101" d="M 0 0L 60 0L 60 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1102"><foreignObject id="SvgjsForeignObject1103" width="60" height="16" x="0" style="overflow:visible;" y="7"><div xmlns="http://www.w3.org/1999/xhtml" style="font-family: 微软雅黑; text-align: center; font-size: 13px; vertical-align: middle; color: rgb(50, 50, 50); font-weight: 400; line-height: 16px; width: 60px; word-break: break-word; border: 0px;">否</div></foreignObject></g></g></svg>